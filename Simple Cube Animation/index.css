:root {
    --color: #fff; /*рут используется для определения глобальных переменных css. их можно переиспользовать в переменных*/
}

body {
    margin: 0; /*убирает внешние отступы у body*/
    padding: 0; /*убирает внутренние отступы у body*/
    width: 100vw; /*задает ширину элемента равной 100% ширины окна просмотра*/
    height: 100vh; /*задает высота элемента равной 100% высота окна просмотра*/
    overflow: hidden; /*скрывает любые элементы, выходящие за пределы элемента body*/
    display: flex;
    align-items: center; /*центрирует элементы по вертикали*/
    justify-content: center; /*центрирует элементы по горизонтали*/
    background: #212121;
}

* {
    transform-style: preserve-3d; /*3д преобразование для всех элементов*/
}

.content {
    width: 50vmin;
    height: 50vmin;
    perspective: 100vmin; /*3д перспектива*/
    animation: spin-all 4s ease-in-out 0s infinite; /*анимация вращения для всего контента*/
}

.cube {
    background: var(--color);
    width: 20vmin;
    height: 20vmin;
    border-radius: 2vmin;
    transform: rotate(48deg) rotateX(22.5deg) rotateY(-22.5deg);
    left: 14.5vmin;
    top: 5vmin;
    position: absolute;
    transition: all 1s ease 0s; /*устанавливает переходы*/
}

.cube, .cube::before, .cube::after {
    animation: spin-cube 2s ease-in-out -3s infinite alternate; 
}

.cube::after, .cube::before {
    position: absolute;
    content: "";
    background: var(--color);
    width: calc(100% - 2vmin);
    height: calc(100% - 2vmin);
    border-radius: 2vmin;
    transform: rotateY(-90deg);
    transform-origin: right bottom;
    top: 2.5vmin;
    left: 4vmin;
    transition: all 1s ease 0s;
    animation-name: spin-cube-before;
}

.cube::after {
    top: 4vmin;
    left: 2.5vmin;
    transform: rotateX(90deg);
    animation-name: spin-cube-after;
}

@keyframes spin-all {
    50%, 100% {
        transform: rotate(360deg); /*градусы оборота вокруг оси*/
    }
}

@keyframes spin-cube{
    0%, 50% {
        border-radius: 100%;
        transform: rotate(39deg) rotateX(0deg) rotateY(0deg);
        left: 20vmin;
        top: 10vmin;
        width: 10vmin;
        height: 10vmin;
    }

    50%, 100% {
        border-radius: 2vmin;
        transform: rotate(48deg) rotateX(22.5deg) rotateY(-22.5deg);
        left: 14.5vmin;
        top: 10vmin;
        width: 10vmin;
        height: 10vmin;
    }
}

@keyframes spin-cube-before {
    0%, 50% {
        border-radius: 100%;
        transform: rotateY(-180deg) rotateX(0deg);
        left: 11vmin;
        top: 9vmin;
        width: 100%;
        height: 100%;
    }

    50%, 100% {
        border-radius: 2vmin;
        transform: rotateY(-90deg);
        left: 4vmin;
        top: 2.5vmin;
        width: calc(100% - 2vmin);
        height: calc(100% - 2vmin);
    }
}

@keyframes spin-cube-after {
    0%, 50% {
        border-radius: 100%;
        transform: rotateY(0deg) rotateX(180deg);
        left: 5vmin;
        top: 12vmin;
        width: 100%;
        height: 100%;
    }

    50%, 100% {
        border-radius: 2vmin;
        transform: rotateX(90deg);
        left: 2.5vmin;
        top: 4vmin;
        width: calc(100% - 2vmin);
        height: calc(100% - 2vmin);
    }
}